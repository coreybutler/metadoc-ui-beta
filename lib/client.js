function _classPrivateFieldGet(e,t){var a=t.get(e);if(!a)throw new TypeError("attempted to get private field on non-instance");return a.get?a.get.call(e):a.value}function _classPrivateFieldSet(e,t,a){var r=t.get(e);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(e,a);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=a}return a}NGN.INFO||(NGN.INFO=console.log);class APIClient{constructor(){_user.set(this,{writable:!0,value:null}),_referrer.set(this,{writable:!0,value:null}),_db.set(this,{writable:!0,value:null}),_uid.set(this,{writable:!0,value:null}),_root.set(this,{writable:!0,value:"https://us-central1-metadoc-4ebc3.cloudfunctions.net/api"}),this.fireAuthEvent=!0,firebase.initializeApp({apiKey:"AIzaSyDq2ExQ1ERY16DfS2HIeLOsUPYOrtkRdKY",authDomain:"metadoc-4ebc3.firebaseapp.com",databaseURL:"https://metadoc-4ebc3.firebaseio.com",projectId:"metadoc-4ebc3",storageBucket:"metadoc-4ebc3.appspot.com",messagingSenderId:"99918371964",appId:"1:99918371964:web:5a08c71bb0e7a50634fdf9",measurementId:"G-W4YWGNRVCV"}),firebase.analytics(),firebase.auth().onAuthStateChanged(e=>{NGN.INFO("AUTH STATE CHANGED"),e?(NGN.INFO("AUTHENTICATED...."),_classPrivateFieldSet(this,_user,e),this.fireAuthEvent&&NGN.BUS.emit("user.authenticated",e)):this.authenticated&&(_classPrivateFieldSet(this,_user,null),NGN.BUS.emit("user.logout")),NGN.BUS.emit("authstate.changed")})}get user(){return null===_classPrivateFieldGet(this,_user)&&_classPrivateFieldSet(this,_user,firebase.auth().currentUser||null),_classPrivateFieldGet(this,_user)}get uid(){return _classPrivateFieldGet(this,_user)?_classPrivateFieldGet(this,_user).uid:_classPrivateFieldGet(this,_uid)}get authenticated(){return null!==_classPrivateFieldGet(this,_user)}register(e,t){if(!/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/i.test(e))return t("Invalid email address format");"function"!=typeof t&&(t=e=>{throw new e}),NGN.BUS.emit("user.verifying"),NGN.NET.post({url:"".concat(_classPrivateFieldGet(this,_root),"/user/register"),json:{email:e}},e=>{switch(e.status){case 201:return t();case 500:return alert("An error occurred. Please refresh the page and try again.");default:return t(e.responseText)}})}}var _user=new WeakMap,_referrer=new WeakMap,_db=new WeakMap,_uid=new WeakMap,_root=new WeakMap,API=new APIClient;export{API as default};